<View>
  <Style>
    /* ===== MAIN LAYOUT Y COLORS ===== */
    :root {
      --primary-color: #3b82f6;
      --secondary-color: #047857;
      --accent-color: #ef4444;
      --warning-color: #f59e0b;
      --success-color: #22c55e;
      --info-color: #0ea5e9;

      --light-bg: #f9fafb;
      --card-bg: #ffffff;
      --border-color: #e5e7eb;

      --text-primary: #1f2937;
      --text-secondary: #6b7280;

      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
      --radius-sm: 6px;
      --radius-md: 8px; 
      --radius-lg: 12px;
    }
    .header-main {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      font-weight: 700;
      font-size: 2.5em;
      margin: 0 0 15px 0;
      text-align: center;
      padding: 25px 20px;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .description-text {
      font-size: 1.2em;
      color: var(--text-secondary);
      text-align: center;
      margin: 0 auto 30px auto;
      max-width: 900px;
      padding: 15px 20px;
      background: var(--light-bg);
      border-radius: var(--radius-md);
      border-left: 4px solid var(--primary-color);
      box-sizing: border-box;
    }
    .header-step {
      background: linear-gradient(90deg, var(--primary-color), var(--info-color));
      color: white;
      font-weight: 600;
      font-size: 1.8em;
      margin: 40px 0 20px 0;
      padding: 20px 25px;
      border-radius: var(--radius-md);
      text-align: center;
      box-shadow: var(--shadow-md);
      position: relative;
    }
    .header-step::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--warning-color), var(--accent-color));
      border-radius: var(--radius-md) var(--radius-md) 0 0;
    }
    .header-sub {
      color: var(--text-primary);
      font-weight: 600;
      font-size: 1.3em;
      margin: 25px 0 15px 0;
      padding: 12px 16px;
      background: var(--light-bg);
      border-left: 4px solid var(--secondary-color);
      border-radius: var(--radius-sm);
      text-align: center; /* Added to center sub-headers */
    }
    .instruction-box {
      background: linear-gradient(135deg, #fffbeb, #fef3c7);
      color: var(--text-primary);
      font-size: 1em;
      padding: 20px;
      border-radius: var(--radius-md);
      margin: 20px auto;
      max-width: 900px;
      border-left: 5px solid var(--warning-color);
      box-shadow: var(--shadow-sm);
      position: relative;
      box-sizing: border-box;
    }
    .instruction-box::before {
      content: '‚ö†Ô∏è';
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.2em;
    }
    .explanation-box {
      background: linear-gradient(135deg, #f0fdf4, #dcfce7);
      color: var(--text-primary);
      font-size: 1em;
      padding: 20px;
      border-radius: var(--radius-md);
      margin: 20px auto;
      max-width: 900px;
      border-left: 5px solid var(--secondary-color);
      box-shadow: var(--shadow-sm);
      position: relative;
      box-sizing: border-box;
    }
    .explanation-box::before {
      content: 'üìö';
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.2em;
    }
    .instruction-box span,
    .explanation-box span {
      display: block;
      line-height: 1.6;
    }
    .instruction-box ul,
    .explanation-box ul {
      margin: 12px 0 0 0;
      padding-left: 20px;
    }
    .instruction-box li,
    .explanation-box li {
      margin: 6px 0;
      padding: 0;
    }
    .instruction-box p,
    .explanation-box p {
      margin: 0;
      padding: 0;
    }
    .attributes-box {
      background: var(--card-bg);
      padding: 25px;
      border-radius: var(--radius-lg);
      margin: 20px auto;
      max-width: 900px;
      border: 2px solid var(--border-color);
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      box-sizing: border-box;
    }
    .attributes-box:hover {
      box-shadow: var(--shadow-lg);
      border-color: var(--primary-color);
    }
    .choices-container {
      margin-bottom: 20px;
      padding: 15px;
      background: var(--light-bg);
      border-radius: var(--radius-sm);
      border: 1px solid var(--border-color);
    }
    .success {
      background: linear-gradient(135deg, #dcfce7, #bbf7d0);
      color: var(--success-color);
      font-weight: 600;
      text-align: center;
      padding: 25px;
      border-radius: var(--radius-lg);
      margin: 40px auto;
      max-width: 900px;
      font-size: 1.4em;
      border: 2px solid var(--success-color);
      box-shadow: var(--shadow-md);
      position: relative;
      box-sizing: border-box;
    }
    .success::before {
      content: '‚ú®';
      position: absolute;
      top: 15px;
      left: 20px;
      font-size: 1.5em;
    }
    .success::after {
      content: '‚ú®';
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 1.5em;
    }
    .collapse-panel {
      background: var(--card-bg);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      margin: 20px auto;
      max-width: 900px;
      box-sizing: border-box;
    }
    .label-ingrediente {
      background: linear-gradient(135deg, #fff1f2, #ffe4e6) !important;
      border: 2px solid #fda4af !important;
      color: #be123c !important;
    }
    @media (max-width: 768px) {
      .header-main {
        font-size: 2em;
        padding: 20px 15px;
      }
      .header-step {
        font-size: 1.5em;
        padding: 15px 20px;
      }
      .attributes-box {
        padding: 20px 15px;
      }
    }
    .attributes-box {
      animation: slideIn 0.5s ease-out;
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </Style>

  <!-- ===== MAIN HEADER ===== -->
  <Header value="ü•Ñ Anotaci√≥n de Recetas Inteligente ü•Ñ" className="header-main"/>
  <Header value="Etiqueta ingredientes de forma precisa y eficiente. ¬°Sigue los pasos y obt√©n resultados profesionales! üöÄ" className="description-text"/>

  <!-- ===== STEP 1: ENTITY LABELING ===== -->
  <Header value="üìù Paso 1: Etiqueta los Ingredientes" className="header-step"/>

  <View className="instruction-box">
    <HyperText name="step1_tip_text" value="&lt;span style='font-size: 1em; line-height: 1.6;'&gt;&lt;strong&gt;üéØ Instrucciones Clave:&lt;/strong&gt;&lt;br/&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Selecciona frases completas:&lt;/strong&gt; Etiqueta 'queso parmesano' como INGREDIENTE, no solo 'queso'.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Evita solapamientos:&lt;/strong&gt; Cada palabra debe pertenecer a una sola entidad.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;No incluyas cantidades:&lt;/strong&gt; Evita '200g de az√∫car', etiqueta solo 'az√∫car'.&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Consistencia:&lt;/strong&gt; Mant√©n el mismo criterio para entidades similares.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;"/>
  </View>

  <View style="display: flex; flex-direction: column; gap: 15px; padding: 20px; background: var(--light-bg); border-radius: var(--radius-md); margin: 20px auto; max-width: 900px; box-sizing: border-box;">
    <HyperText name="text" value="&lt;div style='background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);'&gt;&lt;strong&gt;üìã Informaci√≥n de la Receta:&lt;/strong&gt;&lt;br/&gt;&lt;strong&gt;Descripci√≥n:&lt;/strong&gt; $sentence&lt;/div&gt;" granularity="word"/>

    <Labels name="entities" toName="text" smart="true" showInline="true">
      <Label value="INGREDIENTE" background="#FFB6B6" className="label-ingrediente"/>
    </Labels>
  </View>

  <!-- ===== STEP 2: ATTRIBUTES ===== -->
  <Header value="‚öôÔ∏è Paso 2: Agrega Atributos a los Ingredientes" className="header-step"/>

  <View className="instruction-box">
    <HyperText name="step2_tip_text" value="&lt;span style='font-size: 1em; line-height: 1.6;'&gt;&lt;strong&gt;üí° ¬°Importante!&lt;/strong&gt;&lt;br/&gt;Despu√©s de etiquetar los ingredientes en el Paso 1, &lt;strong&gt;haz clic en el ingrediente etiquetado&lt;/strong&gt; para que se desplieguen sus atributos espec√≠ficos y puedas completarlos.&lt;/span&gt;"/>
  </View>

  <!-- INGREDIENTE Attributes -->
  <View visibleWhen="region-selected" whenTagName="entities" whenLabelValue="INGREDIENTE" className="attributes-box">
    <Header value="ü•ï Atributos para INGREDIENTE" className="header-sub"/>
    
    <Header value="Estado de Preparaci√≥n" className="header-sub"/>
    <View className="explanation-box">
      <HyperText name="preparation_state_tip_text" value="&lt;span style='font-size: 1em;'&gt;&lt;strong&gt;ü•ï Estado de Preparaci√≥n:&lt;/strong&gt;&lt;br/&gt;Clasifica la condici√≥n del ingrediente tal como aparece en la receta.&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Crudo:&lt;/strong&gt; Sin cocci√≥n o preparaci√≥n t√©rmica (ej. lechuga, tomate fresco).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Cocido:&lt;/strong&gt; Ha sido sometido a calor (ej. pollo cocido, patatas hervidas).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Procesado:&lt;/strong&gt; Ha pasado por un proceso industrial o de transformaci√≥n (ej. queso rallado, embutidos, enlatados).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Mezclado:&lt;/strong&gt; Combinado con otros ingredientes para formar una preparaci√≥n (ej. aderezo, salsa, masa).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Fresco:&lt;/strong&gt; Reci√©n cosechado o sin alterar significativamente (ej. hierbas frescas, frutas).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Congelado:&lt;/strong&gt; Preservado por congelaci√≥n (ej. guisantes congelados, mariscos congelados).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Seco:&lt;/strong&gt; Deshidratado (ej. especias, pasta seca, frutos secos).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;No Aplica:&lt;/strong&gt; Para ingredientes donde el estado no es relevante o no se especifica.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;"/>
    </View>
    <Choices name="preparation_state" toName="text" perRegion="true" choice="single" showInline="true" className="choices-container">
      <Choice value="Crudo"/>
      <Choice value="Cocido"/>
      <Choice value="Procesado"/>
      <Choice value="Mezclado"/>
      <Choice value="Fresco"/>
      <Choice value="Congelado"/>
      <Choice value="Seco"/>
      <Choice value="No Aplica"/>
    </Choices>

    <Header value="M√©todo de Cocci√≥n" className="header-sub"/>
    <View className="explanation-box">
      <HyperText name="cooking_method_tip_text" 
        value="&lt;span style='font-size: 1em;'&gt;&lt;strong&gt;üî• M√©todo de Cocci√≥n:&lt;/strong&gt;&lt;br/&gt;Describe la t√©cnica culinaria principal utilizada para preparar el ingrediente. &lt;strong&gt;Puedes seleccionar m√∫ltiples opciones&lt;/strong&gt; si el ingrediente ha pasado por varias t√©cnicas (ej. 'Pollo asado a la plancha' ‚Üí Asado y A la Plancha).&lt;ul&gt;&lt;li&gt;&lt;strong&gt;Asado:&lt;/strong&gt; Cocinado en horno o a fuego directo, sin l√≠quido (ej. carne asada).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Frito:&lt;/strong&gt; Cocinado en aceite o grasa caliente (ej. patatas fritas, pescado frito).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Hervido:&lt;/strong&gt; Cocinado en agua u otro l√≠quido a punto de ebullici√≥n (ej. verduras hervidas, pasta).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Crudo:&lt;/strong&gt; No ha sido cocinado (si es un m√©todo de &quot;cocci√≥n&quot; para un ingrediente que se consume as√≠, como en un ceviche o ensalada).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Horneado:&lt;/strong&gt; Cocinado en un horno con calor seco (ej. pan, pollo al horno).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Al Vapor:&lt;/strong&gt; Cocinado con vapor de agua (ej. verduras al vapor, pescado al vapor).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Ahumado:&lt;/strong&gt; Expuesto al humo para sabor y conservaci√≥n (ej. salm√≥n ahumado, costillas ahumadas).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Tostado:&lt;/strong&gt; Cocinado con calor seco hasta dorar la superficie (ej. pan tostado, frutos secos tostados).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;A la Plancha:&lt;/strong&gt; Cocinado sobre una superficie caliente y plana con poco o ning√∫n aceite (ej. carne a la plancha, verduras a la plancha).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Salteado:&lt;/strong&gt; Cocinado r√°pidamente en una peque√±a cantidad de grasa a fuego alto (ej. vegetales salteados, gambas al ajillo).&lt;/li&gt;&lt;li&gt;&lt;strong&gt;No Aplica:&lt;/strong&gt; Si el m√©todo de cocci√≥n no es relevante o no se especifica.&lt;/li&gt;&lt;/ul&gt;&lt;/span&gt;" />
    </View>
    <Choices name="cooking_method" toName="text" perRegion="true" choice="multiple" showInline="true" className="choices-container">
      <Choice value="Asado"/>
      <Choice value="Frito"/>
      <Choice value="Hervido"/>
      <Choice value="Crudo"/>
      <Choice value="Horneado"/>
      <Choice value="Al Vapor"/>
      <Choice value="Ahumado"/>
      <Choice value="Tostado"/>
      <Choice value="A la Plancha"/>
      <Choice value="Salteado"/>
      <Choice value="No Aplica"/>
    </Choices>

    <Header value="Cocina de Origen del Ingrediente" className="header-sub"/>
    <View className="explanation-box">
      <HyperText name="origin_cuisine_tip_text" value="&lt;span style='font-size: 1em;'&gt;&lt;strong&gt;üåç Cocina de Origen del Ingrediente:&lt;/strong&gt;&lt;ul&gt;
          &lt;li&gt;&lt;strong&gt;¬øDe qu√© cultura culinaria es t√≠pico?&lt;/strong&gt; Identifica la cocina donde el ingrediente es m√°s caracter√≠stico o com√∫n. Ejemplo: 'Parmesano' ‚Üí &lt;strong&gt;Italiana&lt;/strong&gt;; 'Jalape√±o' ‚Üí &lt;strong&gt;Mexicana&lt;/strong&gt;; 'Soya' ‚Üí &lt;strong&gt;Asi√°tica&lt;/strong&gt;.&lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;Ingredientes universales:&lt;/strong&gt; Para ingredientes muy comunes como sal, az√∫car, harina, selecciona &lt;strong&gt;Otra&lt;/strong&gt; o la cocina donde se use en esa receta espec√≠fica.&lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;M√∫ltiples or√≠genes:&lt;/strong&gt; Si el ingrediente es t√≠pico de varias cocinas (ej. arroz en Asi√°tica, Mediterr√°nea, Latinoamericana), selecciona todas las relevantes.&lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;No est√°s seguro:&lt;/strong&gt; Si no puedes identificar claramente el origen, selecciona &lt;strong&gt;Otra&lt;/strong&gt;.&lt;/li&gt;
        &lt;/ul&gt;&lt;/span&gt;"/>
    </View>
    <Choices name="origin_cuisine" toName="text" perRegion="true" choice="multiple" showInline="true" required="true" className="choices-container">
      <Choice value="Italiana"/>
      <Choice value="Peruana"/>
      <Choice value="Japonesa"/>
      <Choice value="Colombiana"/>
      <Choice value="Mexicana"/>
      <Choice value="Brasile√±a"/>
      <Choice value="Argentina"/>
      <Choice value="Espa√±ola"/>
      <Choice value="Asi√°tica"/>
      <Choice value="Mediterr√°nea"/>
      <Choice value="Americana"/>
      <Choice value="Fusi√≥n"/>
      <Choice value="Otra"/>
    </Choices>

    <Header value="Idioma del Ingrediente" className="header-sub"/>
    <View className="explanation-box">
      <HyperText name="ingredient_language_tip_text" value="&lt;span style='font-size: 1em;'&gt;&lt;strong&gt;üó£Ô∏è Idioma del Ingrediente:&lt;/strong&gt;&lt;ul&gt;
          &lt;li&gt;Selecciona el &lt;strong&gt;idioma en que aparece escrito&lt;/strong&gt; el nombre del ingrediente en la receta.&lt;/li&gt;
          &lt;li&gt;Para ingredientes con nombres internacionales (ej. 'Parmesan' vs 'Parmesano'), selecciona el idioma de la palabra tal como aparece.&lt;/li&gt;
          &lt;li&gt;Si el ingrediente tiene nombre local o regional (ej. 'Cilantro' en espa√±ol vs 'Coriander' en ingl√©s), selecciona el idioma correspondiente.&lt;/li&gt;
          &lt;li&gt;Recuerda: El idioma puede ayudar a entender el contexto cultural y las variaciones regionales del ingrediente.&lt;/li&gt;
        &lt;/ul&gt;&lt;/span&gt;"/>
    </View>
    <Choices name="ingredient_language" toName="text" perRegion="true" choice="single" showInline="true" required="true" className="choices-container">
      <Choice value="Espa√±ol"/>
      <Choice value="Ingl√©s"/>
      <Choice value="Portugu√©s"/>
      <Choice value="Franc√©s"/>
      <Choice value="Italiano"/>
      <Choice value="Japon√©s"/>
      <Choice value="Chino"/>
      <Choice value="Otro"/>
    </Choices>
  </View>

  <!-- ===== FINAL SUCCESS MESSAGE ===== -->
  <View className="success">
    <Header value="üéâ ¬°Excelente trabajo! Revisa que todos los ingredientes tengan atributos consistentes y precisos. ¬°Tu anotaci√≥n est√° lista! üéâ"/>
  </View>
</View>